[
  {
    "Id": "578359",
    "ThreadId": "249162",
    "Html": "\r\n<p>Hi folks,</p>\r\n<p>I am posting here after I had no luck in StackOverflow.&nbsp;</p>\r\n<p>I am struggling with a problem related to the usage of RelayCommands. Even if the related event seems to be fired, the RelayCommand is not executed.</p>\r\n<p>The RelayCommand is defined in &quot;ShellViewModel&quot;, it is a public prop of type ICommand. A &quot;new RelayCommand(() =&gt; { throw new NotImplementedException(); })&quot; is assigned to it.</p>\r\n<p>A view named &quot;ShellView&quot; uses the &quot;ShellViewModel&quot; as its DataContext. ShellView uses an instance of UserControl &quot;Keypad&quot;, which is composed by several other instances of another UserControl (KeypadButton). These other UserControls do not have their own\r\n ViewModel as they use the inherited ShellViewModel. They are just convenient UserControl used to break down the View in several bits.&nbsp;</p>\r\n<p>KeypadButton.xaml:</p>\r\n<p>// ....</p>\r\n<p></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre>         <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span> <span style=\"color:red\">Margin</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">5</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n             <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Button</span> <span style=\"color:red\">Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">innerButton</span><span style=\"color:black\">&quot;</span> \r\n                <span style=\"color:red\">MouseLeftButtonUp</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">innerButton_Click</span><span style=\"color:black\">&quot;</span>\r\n                <span style=\"color:red\">Template</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{StaticResource KeypadButtonStyle}</span><span style=\"color:black\">&quot;</span>\r\n                <span style=\"color:red\">ClickMode</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Hover</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n\t<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n// ...\r\n<p></p>\r\n<p>KeypadButton.xaml.cs:</p>\r\n<p></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">public</span> <span style=\"color:blue\">partial</span> <span style=\"color:blue\">class</span> KeypadButton : UserControl\r\n{\r\n        <span style=\"color:green\">// ...</span>\r\n\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">delegate</span> <span style=\"color:blue\">void</span> RoutedEventHandler(<span style=\"color:blue\">object</span> sender, RoutedEventArgs e);\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">event</span> RoutedEventHandler Click;\r\n\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">void</span> innerButton_Click(<span style=\"color:blue\">object</span> sender, MouseButtonEventArgs e)\r\n        {\r\n            <span style=\"color:blue\">if</span> (Click != <span style=\"color:blue\">null</span>)\r\n            {\r\n                Click(<span style=\"color:blue\">this</span>, <span style=\"color:blue\">new</span> KeypadButtonEventArgs());\r\n            }\r\n\r\n        <span style=\"color:green\">// ...</span>\r\n}\r\n</pre>\r\n</div>\r\n<p></p>\r\n<p>and this is the related bit of the parent UserControl (Keypad.xaml):</p>\r\n<p></p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre>&lt;UserControl  \r\n  // ....\r\n&gt;\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">Grid</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">LayoutRoot</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">controls</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">KeypadButton</span> <span style=\"color:red\">x:Name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">testBtn</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">i</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">Interaction.Triggers</span><span style=\"color:blue\">&gt;</span>\r\n                <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">i</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">EventTrigger</span> <span style=\"color:red\">EventName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Click</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n                    &lt;GalaSoft_MvvmLight_Command:EventToCommand Command=&quot;{Binding PressStandardKeyCommand}&quot; /&gt;\r\n                <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">i</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">EventTrigger</span><span style=\"color:blue\">&gt;</span>\r\n            <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">i</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">Interaction.Triggers</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">controls</span><span style=\"color:blue\">:</span><span style=\"color:#a31515\">KeypadButton</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">Grid</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">UserControl</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<p></p>\r\n<p>Well, the Click event handler is not null, I can see it is an instance of EventTriggerBase.</p>\r\n<p>The Click(this, args) is executed with no errors, but nothing happens at all.</p>\r\n<p>Does anyone know what the cause of this might be and how to resolve it?</p>\r\n<p>Thanks in advance,</p>\r\n<p>Cheers,</p>\r\n<p>Gianluca.</p>\r\n",
    "PostedDate": "2011-03-10T04:44:45.31-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "578367",
    "ThreadId": "249162",
    "Html": "<p>It looks to me as the button's dataContext is not what you expect (the ShellVieModel), therefore the binding on the command fails. You can check two simple things:</p>\r\n<p>1) look for errors in the Visual Studio output window</p>\r\n<p>2) add a string property in ShellviewModel and bind your button's content to it. That way you'll be sure that the button's dataContext is indeed the desired viewModel.</p>",
    "PostedDate": "2011-03-10T04:53:50.59-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "578398",
    "ThreadId": "249162",
    "Html": "<p>@Frenk: Thank you for your answer.</p>\r\n<p>As you suggested, I've looked for errors in the output window but no sign of any binding failure in there.</p>\r\n<p>Also I've checked the dataContext of the button and it is actually set to ShellViewModel.</p>\r\n<p>I really don't know what else could be...</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2011-03-10T05:45:57.543-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "578405",
    "ThreadId": "249162",
    "Html": "<p>If you send me a repro (laurent (at) galasoft (dot) ch), I will check it out.</p>\r\n<p>Cheers,</p>\r\n<p>Laurent</p>",
    "PostedDate": "2011-03-10T05:56:27.663-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "581578",
    "ThreadId": "249162",
    "Html": "<p>May be, you have&nbsp; A button, inside Button?</p>\r\n<p>We have the same problem, till ask our designer, and her says, \"ho, i change the ControlTemplate this morning, i put another button inside\"..</p>",
    "PostedDate": "2011-03-16T10:50:19.27-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]
[
  {
    "Id": "706449",
    "ThreadId": "281605",
    "Html": "\r\n<p>Dear all,</p>\r\n<p>I have started to implement a MVVM style in&nbsp; my new application but I am really confuse on what views should exaclty do and what locator hsoud really do.<br>\r\nWhat I have seen so far is really sample basics with one single view in my case I have an application start which is suppose to collect a list of produc from a database through a WCF service.</p>\r\n<p>So for that I have following Views :<br>\r\nMainWindowView which is actually conatining nothing els as a list box<br>\r\nA ProductView which is containing a UserControl to represent a product</p>\r\n<p>Then I have associated ViewModel as :</p>\r\n<p>ViewModelLocator<br>\r\nMainViewModel<br>\r\nProductViewModel</p>\r\n<p>I have an extrnal class call ProductsProvider which is in charge to retrive product information through the WCF service which is define as follow :</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre> <span style=\"color:blue\">class</span> ProductsProvider\r\n    {\r\n        <span style=\"color:blue\">private</span> IList&lt;Product&gt; _products;\r\n\r\n        <span style=\"color:blue\">public</span> IList&lt;Product&gt; Products\r\n        {\r\n            <span style=\"color:blue\">get</span> { <span style=\"color:blue\">return</span> _products; }\r\n            <span style=\"color:blue\">set</span> { _products = value; }\r\n        }\r\n        <span style=\"color:blue\">private</span> IProductService _serviceClient;\r\n        <span style=\"color:blue\">private</span> <span style=\"color:blue\">static</span> ProductsProvider _Instance;\r\n\r\n        <span style=\"color:blue\">private</span> ProductsProvider(IProductService serviceClient)\r\n        {\r\n            <span style=\"color:blue\">this</span>._serviceClient = serviceClient;\r\n            <span style=\"color:blue\">this</span>._products = serviceClient.GetProducts();\r\n        }\r\n\r\n        <span style=\"color:gray\">///</span> <span style=\"color:gray\">&lt;summary&gt;</span><span style=\"color:green\"> </span>\r\n        <span style=\"color:gray\">///</span><span style=\"color:green\"> Create single instance of &lt;see cref=&quot;ProductsProvider&quot;/&gt; </span>\r\n        <span style=\"color:gray\">///</span> <span style=\"color:gray\">&lt;/summary&gt;</span><span style=\"color:green\"> </span>\r\n        <span style=\"color:blue\">public</span> <span style=\"color:blue\">static</span> ProductsProvider InstanceObject(IProductService serviceClient)\r\n        {\r\n            <span style=\"color:blue\">if</span> (_Instance != <span style=\"color:blue\">null</span>)\r\n            {\r\n                <span style=\"color:blue\">return</span> _Instance;\r\n            }\r\n            <span style=\"color:blue\">else</span> <span style=\"color:blue\">return</span> <span style=\"color:blue\">new</span> ProductsProvider(serviceClient);\r\n\r\n        }\r\n\r\n   \r\n    }\r\n</pre>\r\n<pre>What I do not know now is how to setup my different ViewModel's in order to get correctly product information bind to the items source of the list box in my mainvindow ?</pre>\r\n<pre>Thnaks for your help</pre>\r\n<pre>If needed I can provide my sample project for better view as a link</pre>\r\n</div>\r\n",
    "PostedDate": "2011-12-02T06:30:30.77-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "706471",
    "ThreadId": "281605",
    "Html": "<p>Hi,</p>\r\n<p>This sounds very similar to the JsonDemo sample I made at MIX11. Check <a href=\"http://www.galasoft.ch/mvvmvideo2\">http://www.galasoft.ch/mvvmvideo2</a> for the video and <a href=\"http://blog.galasoft.ch/archive/2011/04/13/deep-dive-mvvm-samples-mix11-deepdivemvvm.aspx\">http://blog.galasoft.ch/archive/2011/04/13/deep-dive-mvvm-samples-mix11-deepdivemvvm.aspx</a>&nbsp;for the code.</p>\r\n<p>Cheers,<br />Laurent</p>",
    "PostedDate": "2011-12-02T07:21:21.503-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "706919",
    "ThreadId": "281605",
    "Html": "<p>I check it but I have a wierd situtation mayb e you can explain.</p>\r\n<p>Let say that I have 3 ViewModels named ViemModel1...3 with their corresponding views.<br />So if I catch correctly the whole thing, I should add in the ViewModelLocato the creating of viewLModel 1..3 with a MainStatic property which will then call a Create method.</p>\r\n<p>Form that points comes my first question :</p>\r\n<p>In Default MVVM project template, the MainView is bind as follow :</p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre> DataContext=\"{Binding Main, Source={StaticResource Locator}}\"&gt;\r\n</pre>\r\n</div>\r\n<p>So through the Main property , the Locator is creating the MainViewModel, sor here is my first question :<br />1 - In real scenarios, does the Main property on the Locator should create&nbsp;all other ViewModels (1..3) or does ViewModels1...3 will have also their own Main property where their respective views wil be bind to ? ?</p>\r\n<p>So lets&nbsp;add to Views corresponding Views1...3.</p>\r\n<p>Here comes my second question :</p>\r\n<p>2 - Deos each views will have there datacontext&nbsp;bind to a kind of Main property in Locator, or will&nbsp;it be&nbsp;bind to a Class in the their ViewModels ?</p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre>Thanks for clarification on which path shold I go for reall application. When we look video it is always simple but when we try to implement it a real project, things start to be confuse and not anymore like simple exemple.</pre>\r\n<pre>For exemple, having a view bind to the Locator which create an instance of the view and have in its constructor the need to call a service through an external gateway class make it fails.</pre>\r\n<pre>In such cas in order to work I add to bind my view dataContext as follow :</pre>\r\n<pre><div style=\"color: black; background-color: white;\"><pre>DataContext=\"{Binding Source={x:Type vm:ProductViewModel}}\"&gt;\r\n</pre>\r\n<pre>And here I am not binding through Localtor class as you cann see, so this is the reason why I do not know what it right or wrong</pre>\r\n<pre>Thnaks for help</pre>\r\n<pre>serge&nbsp;</pre>\r\n</div>\r\n</pre>\r\n</div>\r\n<p>&nbsp;</p>",
    "PostedDate": "2011-12-03T07:40:09.287-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]
[
  {
    "Id": "1487759",
    "ThreadId": "659339",
    "Html": "Hello, can somebody explane or show simple example with treeview and entity framework?<br />\n<br />\nWhy binding not worknig then press enter? What is the best way to show treeview onload?<br />\n<br />\nSorry for big code sample:<br />\n<br />\nI use Mvvm light Tree with entity framwork. Folders <em>Model</em>, <em>ModelView</em> and <em>View</em> DB.edmx in Model folder (class DBEntity)<br />\n<h1>Model&gt;DataService.cs</h1>\n<pre><code>public class DataService : IDataService\n {\n    readonly DBEntities _context;\n\n    public DataService()\n    {\n        _context =  new DBEntities();\n    }\n\n    public ObservableCollection&lt;Customers&gt; GetCustomers()\n    {\n        var customers = new ObservableCollection&lt;Customers&gt;(_context.Customers.Take(10));\n        return customers;\n    }\n}</code></pre>\n\n<h1>Model&gt;IDataService.cs</h1>\n<pre><code>public interface IDataService\n{\n    ObservableCollection&lt;Customers&gt; GetCustomers();\n}</code></pre>\n\n<h1>ModelView&gt;MainViewModel.cs</h1>\n<pre><code>public class MainViewModel: ViewModelBase\n{\n    readonly IDataService _serviceProxy;\n    ObservableCollection&lt;Customers&gt; _customers = new ObservableCollection&lt;Customers&gt;();\n\n    public ObservableCollection&lt;Customers&gt; Customers\n    {\n        get { return _customers; }\n        set\n        {\n            _customers = value;\n            RaisePropertyChanged();\n        }\n    }\n    public RelayCommand FillTreeView { get; set; }\n\n    void GetCustomers()\n    {\n        Customers.Clear();\n        foreach (var item in _serviceProxy.GetCustomers())\n        {\n            Customers.Add(item);\n        }\n    }\n\n    public MainViewModel(IDataService serviceProxy)\n    {\n        _serviceProxy = serviceProxy;\n        Customers = new ObservableCollection&lt;Customers&gt;();\n        FillTreeView = new RelayCommand(GetCustomers);\n    }\n\n}</code></pre>\n\n<h2>View&gt;TreeView.cs</h2>\n<pre><code>\n&lt;Page\n      .... DataContext=&quot;{Binding Main, Source={StaticResource ViewModelLocator}}&quot;&gt;\n&lt;TreeView x:Name=&quot;TreeViewCustomers&quot; Margin=&quot;0,23,0,0&quot; Grid.Row=&quot;0&quot; ItemsSource=&quot;{Binding Customers}&quot;&gt;\n                &lt;TreeView.ItemTemplate&gt;\n                    &lt;HierarchicalDataTemplate&gt;\n                        &lt;TextBlock Text=&quot;{Binding CustomerName}&quot;/&gt;\n                    &lt;/HierarchicalDataTemplate&gt;\n                &lt;/TreeView.ItemTemplate&gt;\n            &lt;/TreeView&gt;\n            &lt;TextBox VerticalAlignment=&quot;Top&quot; Margin=&quot;0,0,0,270&quot; Text=&quot;&quot; Height=&quot;23&quot; Grid.Row=&quot;0&quot;&gt;\n                &lt;TextBox.InputBindings&gt;\n                    &lt;KeyBinding Key=&quot;Return&quot; Command=&quot;{Binding FillTreeView}&quot;/&gt;\n                &lt;/TextBox.InputBindings&gt;\n            &lt;/TextBox&gt;</code></pre>\n\n",
    "PostedDate": "2016-11-11T06:00:58.107-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]